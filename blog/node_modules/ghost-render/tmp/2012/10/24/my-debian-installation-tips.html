<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<title>My Debian installation tips</title>	

	<meta name="description" content="">
	
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="My Debian installation tips">
    <meta name="twitter:description" content="">
    <meta name="twitter:site" content="@username">
	<meta name="twitter:creator" content="@username">

    <meta property="og:type" content="article">
    <meta property="og:title" content="My Debian installation tips">
    <meta property="og:description" content="">

    <link rel="stylesheet" href="/assets/css/style.css">

    <meta name="generator" content="Ghost ?" />
<link rel="alternate" type="application/rss+xml" title="Mixu&#39;s blog" href="/rss/">
<link rel="canonical" href="http://localhost:5000//2012/10/24/my-debian-installation-tips.md" />	
</head>
<body class="post-template">
	
<main id="container" role="main">
	<header class="header" role="banner" style="background-image: url(/assets/img/header.jpg);">
		<h1 class="blog-title">
			<a href="http://localhost:5000">Mixu&#x27;s blog</a>
		</h1>
		<div class="blog-description">A blog</div>
	</header>
	<nav class="menu" role="navigation">
		<a href="#">Home</a>
		<span class="delimiter">&#8226;</span>
		<a href="#">About</a>
		<span class="delimiter">&#8226;</span>
		<a href="#">Contacts</a>
	</nav>
	<section class="post-full">
		<article itemscope itemtype="http://schema.org/BlogPosting" role="article" class="post">
			<header class="post-header">        		
    			<h2 itemprop="name headline" class="post-title">
    				<a href="/2012/10/24/my-debian-installation-tips.html" itemprop="url">My Debian installation tips</a>
    			</h2>
    			<div class="post-meta">
        			<time datetime="2012-10-24" itemprop="datePublished">October 24, 2012</time>
        		</div>
        		<hr>
    		</header>
    		<section itemprop="articleBody" class="post-content">
    			<p>So, after some time with Arch Linux, I&#39;ve moved to Debian testing. Debian testing seems to strike a nice balance between being new and not breaking things (Debian stable on the other hand has really old packages). Compared to Arch, upgrades have thus far been a lot less painful. Arch, while lovely, has a tendency to break things and I was always rather annoyed with python being python3 rather than python2 like the rest of the world expected it to be. I miss the minimal base install from Arch though.</p>
<p><strong>First steps</strong></p>
<p>I used the amd64 (e.g. x86-64) <a href="http://cdimage.debian.org/cdimage/weekly-builds/">weekly testing build</a> rather than the stable build, because, well it gets me on testing without needing to do a stable install first and comes with more up-to-date packages.</p>
<p>While none of the docs make it clear, all you need is the first CD (or the netinstall build) to start the install.</p>
<p><strong>Edit sudoers</strong></p>
<pre class="hljs"><code><span class="hljs-title">su</span> -c <span class="hljs-string">&quot;visudo&quot;</span></code></pre><p>At the end of the file, add:</p>
<pre class="hljs"><code><span class="hljs-tag">&lt;code&gt;</span><span class="hljs-keyword">yourusername</span> <span class="hljs-literal">ALL</span>=(<span class="hljs-literal">ALL</span>) NOPASSWD: <span class="hljs-literal">ALL</span>&lt;/code&gt;</code></pre><p><strong>Copy ssh keys over from old machine</strong></p>
<p><strong>Update and install packages</strong></p>
<p>Add &quot;contrib&quot; and &quot;non-free&quot; after &quot;main&quot; to /etc/apt/sources.list - this is needed for stuff like the flash plugin.</p>
<p>If there are lines mentioning &quot;cdrom:&quot; as a source, delete or comment out those lines.</p>
<pre class="hljs"><code>sudo apt-<span class="hljs-built_in">get</span> <span class="hljs-keyword">update</span> &amp;amp;&amp;amp; sudo apt-<span class="hljs-built_in">get</span> upgrade

sudo apt-<span class="hljs-built_in">get</span> install git mlocate mercurial nitrogen wicd-gtk \
gnome-icon-theme htop unzip openssl chromium-browser zsh \
xterm epdfview mysql-server ruby tmux curl wget redis-server \
xcursor-themes xarchiver gzip bzip2 zip unzip unrar p7zip \
meld mplayer make gcc libc-<span class="hljs-built_in">dev</span> build-essential openssl \
libssl-<span class="hljs-built_in">dev</span> libx11-<span class="hljs-built_in">dev</span> libxinerama-<span class="hljs-built_in">dev</span> guake xfce4-notifyd \
keychain flashplugin-nonfree lxappearance tree</code></pre><p><strong>Install node</strong></p>
<pre class="hljs"><code>mkdir other
cd other
wget http:<span class="hljs-comment">//nodejs.org/dist/v0.8.12/node-v0.8.12.tar.gz</span>
tar xvvf node-v0<span class="hljs-number">.8.12</span>.tar.gz
cd node-v0<span class="hljs-number">.8.12</span>
./configure &amp;amp;&amp;amp; <span class="hljs-built_in">make</span> &amp;amp;&amp;amp; sudo <span class="hljs-built_in">make</span> install</code></pre><p><strong>Install nwm, my window manager</strong></p>
<pre class="hljs"><code>git clone gi<span class="hljs-variable">t:</span>//github.<span class="hljs-keyword">com</span>/mixu/nwm.git
<span class="hljs-keyword">cd</span> nwm
npm install</code></pre><p>Create ~/nwm.sh and chmod +x:</p>
<pre class="hljs"><code><span class="hljs-shebang">#!/bin/sh</span>
/usr/local/bin/node /home/m/nwm/nwm-user-sample.js <span class="hljs-number">2</span>&amp;gt; ~/nwm.err.log <span class="hljs-number">1</span>&amp;gt; ~/nwm.log</code></pre><p>Create /usr/share/xsessions/nwm.desktop:</p>
<pre class="hljs"><code><span class="hljs-title">[Desktop Entry]</span>
<span class="hljs-setting">Encoding=<span class="hljs-value">UTF-<span class="hljs-number">8</span></span></span>
<span class="hljs-setting">Name=<span class="hljs-value">nwm</span></span>
<span class="hljs-setting">Comment=<span class="hljs-value">This session starts nwm</span></span>
<span class="hljs-setting">Exec=<span class="hljs-value">/home/m/nwm.sh</span></span>
<span class="hljs-setting">Type=<span class="hljs-value">Application</span></span></code></pre><p><strong>Set the user shell from bash to zsh</strong></p>
<p>sudo chsh</p>
<p><strong>Set the default xdg-open action for PDFs</strong></p>
<p>In case you don&#39;t know what xdg-open is - it&#39;s the thing that decides what happens when you try to open a file (e.g. a downloaded file from Chrome).</p>
<p>I don&#39;t want to open PDFs and PS files in Gimp, I want to open them in a document viewer</p>
<p>xdg-mime default evince.desktop application/pdf</p>
<p>xdg-mime default evince.desktop application/postscript</p>
<p>To query the default app: xdg-mime query default $(xdg-mime query filetype FILENAME)</p>
<p><strong>Configuring appearance</strong></p>
<p>Download <a href="https://wiki.ubuntu.com/Artwork/Incoming/DustTheme">https://wiki.ubuntu.com/Artwork/Incoming/DustTheme</a> and unzip the theme to ~/.themes/</p>
<p>I find the easiest way to configure gnome2 is to use lxappearance, since it allows you to set the gnome theme and x11 cursors in a few clicks.</p>
<h3 id="guake-disable-smart-terminal-names">Guake: disable smart terminal names</h3>
<pre class="hljs"><code>gconftool-<span class="hljs-number">2</span> --set <span class="hljs-regexp">/apps/g</span>uake<span class="hljs-regexp">/general/</span>use_vte_titles --type <span class="hljs-keyword">boolean</span> <span class="hljs-keyword">false</span></code></pre><h3 id="configure-git">Configure git</h3>
<p>Edit ~/.gitconfig:</p>
<pre class="hljs"><code><span class="hljs-list">[<span class="hljs-keyword">color</span>]
ui = true
<span class="hljs-list">[<span class="hljs-keyword">user</span>]
email =
name =
<span class="hljs-list">[<span class="hljs-keyword">core</span>]
editor = nano
<span class="hljs-list">[<span class="hljs-keyword">alias</span>]
lg = log --graph --pretty=format:<span class="hljs-variable">&#39;%Cred%h%Creset-%C</span><span class="hljs-list">(<span class="hljs-keyword">yellow</span>)</span>%d%Creset %s %Cgreen<span class="hljs-list">(<span class="hljs-keyword">%cr</span>)</span>%C<span class="hljs-list">(<span class="hljs-keyword">bold</span> blue)</span>%Creset&#39; --abbrev-commit --date=relative
<span class="hljs-list">[<span class="hljs-keyword">push</span>]
default = current</span></span></span></span></span></code></pre><h3 id="configure-zsh">Configure zsh</h3>
<pre class="hljs"><code><span class="hljs-comment"># Lines configured by zsh-newuser-install</span>
HISTFILE=~/.histfile
HISTSIZE=<span class="hljs-number">1000</span>
SAVEHIST=<span class="hljs-number">9999</span>
unsetopt <span class="hljs-command">beep</span>
bindkey -e
<span class="hljs-comment"># End of lines configured by zsh-newuser-install</span>
<span class="hljs-comment"># The following lines were added by compinstall</span>
zstyle :compinstall filename &#39;/home/m/.zshrc&#39;

autoload -Uz compinit
compinit
<span class="hljs-comment"># End of lines added by compinstall</span>

bindkey <span class="hljs-string">&quot;\e[1~&quot;</span> <span class="hljs-keyword">beginning</span>-<span class="hljs-keyword">of</span>-line <span class="hljs-comment"># Home</span>
bindkey <span class="hljs-string">&quot;\e[4~&quot;</span> <span class="hljs-keyword">end</span>-<span class="hljs-keyword">of</span>-line <span class="hljs-comment"># End</span>
bindkey <span class="hljs-string">&quot;\e[5~&quot;</span> <span class="hljs-keyword">beginning</span>-<span class="hljs-keyword">of</span>-history <span class="hljs-comment"># PageUp</span>
bindkey <span class="hljs-string">&quot;\e[6~&quot;</span> <span class="hljs-keyword">end</span>-<span class="hljs-keyword">of</span>-history <span class="hljs-comment"># PageDown</span>
bindkey <span class="hljs-string">&quot;\e[2~&quot;</span> quoted-insert <span class="hljs-comment"># Ins</span>
bindkey <span class="hljs-string">&quot;\e[3~&quot;</span> delete-char <span class="hljs-comment"># Del</span>
bindkey <span class="hljs-string">&quot;\e[5C&quot;</span> forward-<span class="hljs-property">word</span>
bindkey <span class="hljs-string">&quot;\eOc&quot;</span> emacs-forward-<span class="hljs-property">word</span>
bindkey <span class="hljs-string">&quot;\e[5D&quot;</span> backward-<span class="hljs-property">word</span>
bindkey <span class="hljs-string">&quot;\eOd&quot;</span> emacs-backward-<span class="hljs-property">word</span>
bindkey <span class="hljs-string">&quot;\e\e[C&quot;</span> forward-<span class="hljs-property">word</span>
bindkey <span class="hljs-string">&quot;\e\e[D&quot;</span> backward-<span class="hljs-property">word</span>
bindkey <span class="hljs-string">&quot;\e[Z&quot;</span> <span class="hljs-property">reverse</span>-menu-complete <span class="hljs-comment"># Shift+Tab</span>
<span class="hljs-comment"># for rxvt</span>
bindkey <span class="hljs-string">&quot;\e[7~&quot;</span> <span class="hljs-keyword">beginning</span>-<span class="hljs-keyword">of</span>-line <span class="hljs-comment"># Home</span>
bindkey <span class="hljs-string">&quot;\e[8~&quot;</span> <span class="hljs-keyword">end</span>-<span class="hljs-keyword">of</span>-line <span class="hljs-comment"># End</span>
<span class="hljs-comment"># for non RH/Debian xterm</span>
bindkey <span class="hljs-string">&quot;\eOH&quot;</span> <span class="hljs-keyword">beginning</span>-<span class="hljs-keyword">of</span>-line
bindkey <span class="hljs-string">&quot;\eOF&quot;</span> <span class="hljs-keyword">end</span>-<span class="hljs-keyword">of</span>-line
<span class="hljs-comment"># for freebsd console</span>
bindkey <span class="hljs-string">&quot;\e[H&quot;</span> <span class="hljs-keyword">beginning</span>-<span class="hljs-keyword">of</span>-line
bindkey <span class="hljs-string">&quot;\e[F&quot;</span> <span class="hljs-keyword">end</span>-<span class="hljs-keyword">of</span>-line
<span class="hljs-comment"># for guake</span>
bindkey <span class="hljs-string">&quot;\eOF&quot;</span> <span class="hljs-keyword">end</span>-<span class="hljs-keyword">of</span>-line
bindkey <span class="hljs-string">&quot;\eOH&quot;</span> <span class="hljs-keyword">beginning</span>-<span class="hljs-keyword">of</span>-line
bindkey <span class="hljs-string">&quot;^[[1;5D&quot;</span> backward-<span class="hljs-property">word</span>
bindkey <span class="hljs-string">&quot;^[[1;5C&quot;</span> forward-<span class="hljs-property">word</span>
bindkey <span class="hljs-string">&quot;\e[3~&quot;</span> delete-char <span class="hljs-comment"># Del</span>

<span class="hljs-type">alias</span> ls=&#39;ls <span class="hljs-comment">--color=auto -F&#39;</span>
<span class="hljs-type">alias</span> ga=&#39;git add&#39;
<span class="hljs-type">alias</span> gp=&#39;git push&#39;
<span class="hljs-type">alias</span> gl=&#39;git <span class="hljs-command">log</span>&#39;
<span class="hljs-type">alias</span> gs=&#39;git status&#39;
<span class="hljs-type">alias</span> gd=&#39;git diff&#39;
<span class="hljs-type">alias</span> gdc=&#39;git diff <span class="hljs-comment">--cached&#39;</span>

autoload -U colors &amp;amp;&amp;amp; colors

PROMPT=<span class="hljs-string">&quot;%{$fg_bold[white]%}[%1~]%{$reset_color%} &quot;</span>

PATH=$PATH:$HOME/.rvm/bin <span class="hljs-comment"># Add RVM to PATH for scripting</span>
[[ -s <span class="hljs-string">&quot;$HOME/.rvm/scripts/rvm&quot;</span> ]] &amp;amp;&amp;amp; . <span class="hljs-string">&quot;$HOME/.rvm/scripts/rvm&quot;</span>

gr() {
   <span class="hljs-keyword">local</span> cmd=<span class="hljs-string">&quot;$<em>&quot;</span>
   <span class="hljs-keyword">for</span> dir <span class="hljs-keyword">in</span> /home/{FILL IN REPOSITORIES HERE}; do
    (
     print <span class="hljs-string">&quot;\nin $dir&quot;</span>
     cd $dir
     eval <span class="hljs-string">&quot;$cmd&quot;</span>
    )
   done
}

<span class="hljs-type">alias</span> grs=<span class="hljs-string">&quot;gr git --no-pager status -sb&quot;</span>
<span class="hljs-type">alias</span> grl=<span class="hljs-string">&quot;gr git --no-pager log --decorate --graph --oneline -n 3&quot;</span>
<span class="hljs-type">alias</span> grd=<span class="hljs-string">&quot;gr git diff&quot;</span>
<span class="hljs-type">alias</span> grdc=<span class="hljs-string">&quot;gr git diff --cached&quot;</span>
<span class="hljs-type">alias</span> grn=<span class="hljs-string">&quot;gr npm ls&quot;</span>

eval `keychain <span class="hljs-comment">--eval --agents ssh id_rsa`</span>

<span class="hljs-comment"># Stuff for git</span>
parse_git_branch () {
    git branch <span class="hljs-number">2</span>&amp;gt; /dev/null | grep <span class="hljs-string">&quot;</em>&quot;</span> | sed -e &#39;s/<em> (.</em>)/ @\<span class="hljs-number">1</span>/g&#39;
}

<span class="hljs-comment"># colors for prompt</span>
BLACK=$&#39;\<span class="hljs-number">033</span>[<span class="hljs-number">0</span>m&#39;
RED=$&#39;\<span class="hljs-number">033</span>[<span class="hljs-number">38</span>;<span class="hljs-number">5</span>;<span class="hljs-number">167</span>m&#39;
GREEN=$&#39;\<span class="hljs-number">033</span>[<span class="hljs-number">38</span>;<span class="hljs-number">5</span>;<span class="hljs-number">71</span>m&#39;
BLUE=$&#39;\<span class="hljs-number">033</span>[<span class="hljs-number">38</span>;<span class="hljs-number">5</span>;<span class="hljs-number">111</span>m&#39;
YELLOW=$&#39;\<span class="hljs-number">033</span>[<span class="hljs-number">38</span>;<span class="hljs-number">5</span>;<span class="hljs-number">228</span>m&#39;
ORANGE=$&#39;\<span class="hljs-number">033</span>[<span class="hljs-number">38</span>;<span class="hljs-number">5</span>;<span class="hljs-number">173</span>m&#39;

function precmd() {
    export PROMPT=<span class="hljs-string">&quot;%{$fg_bold[white]%}[%1~%{$reset_color%}%{$YELLOW%}$(parse_git_branch)%{$fg_bold[white]%}]%{$BLACK%}%\ &quot;</span>
}</code></pre>
    		</section>
    		<footer class="post-footer">
    			<div itemscope itemprop="author" itemtype="http://schema.org/Person" class="post-author">
	                	<img itemprop="image" src="http://www.gravatar.com/avatar/F0AF2953911805542C66FD43B2F8FC38?s=155" alt="Mixu" class="post-author-avatar">
					<div class="post-author-info">
		              	<span itemprop="name">Mixu</span>
		              	<p itemprop="description" class="post-author-bio">Node.js developer</p>
	              	</div>
    			</div>
    		</footer>
		</article>
		
		<section itemprop="comment" class="post-comments">
			<div id="disqus_thread"></div>
			<script type="text/javascript">            
				var disqus_shortname = 'example';
		
			    (function() {
			        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
			        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
			        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
			    })();
			</script>
			<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
			<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
		</section>	</section>

	<footer class="footer" role="contentinfo">
		<div class="social-links-line"></div>
		<section class="social-links">
	        <div class="social-links-inner">
	        	<a class="icon icon-feed" href="http://localhost:5000/rss/" target="_blank">
	        		<i class="fa fa-rss"></i>
	        	</a>
	        	
	        	<a class="icon icon-twitter" href="http://twitter.com/" target="_blank">				
	        		<i class="fa fa-twitter"></i>
	        	</a>
	        	
	        	<a class="icon icon-facebook" href="http://facebook.com/" target="_blank">
	        		<i class="fa fa-facebook"></i>
	        	</a>
	        	
	        	<a class="icon icon-google-plus" href="http://plus.google.com/" target="_blank">
	        		<i class="fa fa-google-plus"></i>
	        	</a>
	        	
	        	<a class="icon icon-dribbble" href="http://dribbble.com/" target="_blank">
	        		<i class="fa fa-dribbble"></i>
	        	</a>
	        	
	        	<a class="icon icon-flickr" href="http://flickr.com/" target="_blank">
	        		<i class="fa fa-flickr"></i>
	        	</a>
	        	
	        	<a class="icon icon-foursquare" href="http://foursquare.com/" target="_blank">
	        		<i class="fa fa-foursquare"></i>
	        	</a>
	        	
	        	<a class="icon icon-instagram" href="http://instagram.com/" target="_blank">
	        		<i class="fa fa-instagram"></i>
	        	</a>
	        	
	        	<a class="icon icon-github" href="http://github.com/" target="_blank">
	        		<i class="fa fa-github"></i>
	        	</a>
	        	
	        	<a class="icon icon-tumblr" href="http://tumblr.com/" target="_blank">
	        		<i class="fa fa-tumblr"></i>
	        	</a>
	        	
	        	<a class="icon icon-pinterest" href="http://pinterest.com/" target="_blank">
	        		<i class="fa fa-pinterest"></i>
	        	</a>
	        	
	        	<a class="icon icon-linkedin" href="http://linkedin.com/" target="_blank">
	        		<i class="fa fa-linkedin"></i>
	        	</a>
	        	
	        	<a class="icon icon-vk" href="http://vk.com/" target="_blank">
	        		<i class="fa fa-vk"></i>
	        	</a>        </div>               
	    </section>
	</footer></main>

	<script src="/assets/js/jquery.min.js"></script>
    <script type="text/javascript" src="/assets/js/main.min.js"></script>
</body>
</html>