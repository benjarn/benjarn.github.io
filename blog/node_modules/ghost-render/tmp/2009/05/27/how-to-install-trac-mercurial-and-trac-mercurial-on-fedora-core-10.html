<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<title>How to install trac, mercurial and trac-mercurial on Fedora Core 10</title>	

	<meta name="description" content="">
	
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="How to install trac, mercurial and trac-mercurial on Fedora Core 10">
    <meta name="twitter:description" content="">
    <meta name="twitter:site" content="@username">
	<meta name="twitter:creator" content="@username">

    <meta property="og:type" content="article">
    <meta property="og:title" content="How to install trac, mercurial and trac-mercurial on Fedora Core 10">
    <meta property="og:description" content="">

    <link rel="stylesheet" href="/assets/css/style.css">

    <meta name="generator" content="Ghost ?" />
<link rel="alternate" type="application/rss+xml" title="Mixu&#39;s blog" href="/rss/">
<link rel="canonical" href="http://localhost:5000//2009/05/27/how-to-install-trac-mercurial-and-trac-mercurial-on-fedora-core-10.md" />	
</head>
<body class="post-template">
	
<main id="container" role="main">
	<header class="header" role="banner" style="background-image: url(/assets/img/header.jpg);">
		<h1 class="blog-title">
			<a href="http://localhost:5000">Mixu&#x27;s blog</a>
		</h1>
		<div class="blog-description">A blog</div>
	</header>
	<nav class="menu" role="navigation">
		<a href="#">Home</a>
		<span class="delimiter">&#8226;</span>
		<a href="#">About</a>
		<span class="delimiter">&#8226;</span>
		<a href="#">Contacts</a>
	</nav>
	<section class="post-full">
		<article itemscope itemtype="http://schema.org/BlogPosting" role="article" class="post">
			<header class="post-header">        		
    			<h2 itemprop="name headline" class="post-title">
    				<a href="/2009/05/27/how-to-install-trac-mercurial-and-trac-mercurial-on-fedora-core-10.html" itemprop="url">How to install trac, mercurial and trac-mercurial on Fedora Core 10</a>
    			</h2>
    			<div class="post-meta">
        			<time datetime="2009-05-27" itemprop="datePublished">May 27, 2009</time>
        		</div>
        		<hr>
    		</header>
    		<section itemprop="articleBody" class="post-content">
    			<p>Here is a quick, up-to-date (as of 05/2009) guide to installing and troubleshooting trac, mercurial and trac-mercurial on FC10. I started with a fresh VM install for this guide.</p>
<p><strong>1. Get the dependencies and tools</strong></p>
<p><code>yum install wget
yum install python mercurial trac trac-mercurial
yum install python-devel python-setuptools python-genshi python-docutils python-pygments mod_python
</code></p>
<p><strong>2. Get easy_install to work on FC10</strong></p>
<p><code>wget <a href="http://peak.telecommunity.com/dist/ez_setup.py">http://peak.telecommunity.com/dist/ez_setup.py</a></code></p>
<p>Here is the first (minor) pitfall. You need to force the update of easy_install. If you only run &quot;python ez_setup.py&quot;, then you will not get the easy_install command (bash will not recognize it). Run:</p>
<p><code>python ez_setup.py -U setuptools</code></p>
<p><strong>3. Install the mercurial plugin</strong></p>
<p><em>From: <a href="http://trac.edgewall.org/wiki/MultipleRepositorySupport">http://trac.edgewall.org/wiki/MultipleRepositorySupport</a></em></p>
<p>Check out the mercurial plugin:
<code>svn co <a href="http://svn.edgewall.com/repos/trac/sandbox/mercurial-plugin-0.12">http://svn.edgewall.com/repos/trac/sandbox/mercurial-plugin-0.12</a> </code></p>
<p>Build the mercurial plugin. From within the checked-out directory, build the egg file (it will end up in the dist subdirectory):</p>
<p><code>python setup.py bdist_egg</code></p>
<p>Check out the multirepos branch:</p>
<p><code>svn co <a href="http://svn.edgewall.com/repos/trac/sandbox/multirepos">http://svn.edgewall.com/repos/trac/sandbox/multirepos</a></code></p>
<p>Install the multirepos version of trac (from within the multirepos directory, as root):</p>
<p><code>python setup.py install</code></p>
<p><strong>4. Get the development branch of Genshi</strong></p>
<p>Here you will run into the error &quot;No local packages or download links found for Genshi&gt;=0.6dev-r960&quot;. To fix this, you need to force an update of Genshi to the latest dev version:</p>
<p><code>easy_install -U &quot;Genshi==dev&quot;</code></p>
<p><strong>5. Create your trac environment directory</strong></p>
<p>For example:</p>
<p><code>trac-admin /path/to/trac/myproject initenv
chown -R apache:apache /path/to/trac/myproject</code></p>
<p><strong>6. Setup Apache for Trac</strong></p>
<p><code>nano etc/httpd/conf/httpd.conf</code></p>
<p>Add something like:</p>
<p><code>&lt;Location &quot;/trac&quot;&gt;
SetHandler mod_python
PythonInterpreter main_interpreter
PythonHandler trac.web.modpython_frontend
PythonOption TracEnvParentDir /path/to/trac
PythonOption TracUriRoot /trac
&lt;/Location&gt;
</code></p>
<p>And if you haven&#39;t added mod_python already:</p>
<p><code>LoadModule python_module modules/mod_python.so</code></p>
<p><strong>7. Continue with the setup</strong></p>
<p><em>From: <a href="http://trac.edgewall.org/wiki/MultipleRepositorySupport">http://trac.edgewall.org/wiki/MultipleRepositorySupport</a></em></p>
<p>Copy the mercurial plugin egg file to the &lt;trac-env&gt;/plugins directory. Make sure the following is somewhere in &lt;trac-env&gt;/conf/trac.ini, adding all the desired repositories to the [repositories] section:
<code>[components]
tracext.hg.* = enabled[repositories]
my_repo_a.dir = path_to_a_repository</p>
<p>[trac]
repository_dir = path_to_default_repository
repository_type = hg</p>
<p>Note that when the repository .type is not specified, the value of [trac] repository_type is used.</p>
<p></code></p>
<p><strong>8. Restart apache and test</strong></p>
<p><code>service httpd restart</code></p>
<p>Navigate to <a href="http://localhost/trac">http://localhost/trac</a> .</p>
<p><strong>Some possible errors</strong></p>
<p>If you get something like:</p>
<pre class="hljs"><code><span class="hljs-title">Available</span> Projects</code></pre><pre class="hljs"><code>    * attachments: Error
      ([Errno <span class="hljs-number">2</span>] No such <span class="hljs-built_in">file</span> <span class="hljs-operator">or</span> <span class="hljs-built_in">directory</span>:
<span class="hljs-string">&#39;/path/to/trac/env/attachments/VERSION&#39;</span>)</code></pre><p>Check your <em>TracEnvParentDir</em> in httpd.conf, it is probably incorrect. (And restart apache.)</p>
<p>If you get the error:</p>
<pre class="hljs"><code><span class="hljs-string">&quot;Unsupported version control system &quot;</span>hg<span class="hljs-string">&quot;: Can&#39;t find an appropriate component, maybe the corresponding plugin was not enabled? &quot;</span></code></pre><p>Check if you copied the TracMercurial-0.12.0.6dev_r7902-py2.5.egg file to the correct location. (And restart apache.)</p>
<p><strong>References:</strong></p>
<p><a href="http://trac.edgewall.org/wiki/TracOnFedoraCore">http://trac.edgewall.org/wiki/TracOnFedoraCore</a>
<a href="http://trac.edgewall.org/wiki/TracMercurial">http://trac.edgewall.org/wiki/TracMercurial</a>
<a href="http://trac.edgewall.org/wiki/TracModPython">http://trac.edgewall.org/wiki/TracModPython</a>
<a href="http://trac.edgewall.org/wiki/MultipleRepositorySupport">http://trac.edgewall.org/wiki/MultipleRepositorySupport</a>
<a href="http://www.smallroomsoftware.com/articles/2008/2/14/trac-0-11-installation-on-centos-fedora">http://www.smallroomsoftware.com/articles/2008/2/14/trac-0-11-installation-on-centos-fedora</a></p>
<h2 id="comments">Comments</h2>
<p><strong><a href="#29" title="2010-04-05 19:48:47">Vern B</a>:</strong> Thanks for the page...</p>
<p>Step 1:
  My CentOS 5.4 system was missing these packages (for step 5); one is
  from base and one from rpmforge:</p>
<pre class="hljs"><code>yum install sqlite-devel <span class="hljs-keyword">python</span>-sqlite2</code></pre><p>Step 3:
  The URL for Trac and Mercurial Plugin moved, use:</p>
<pre class="hljs"><code> svn co <span class="hljs-symbol">http:</span>/<span class="hljs-regexp">/svn.edgewall.org/repos</span><span class="hljs-regexp">/trac/plugins</span><span class="hljs-regexp">/0.12/mercurial</span>-plugin

 svn co <span class="hljs-symbol">http:</span>/<span class="hljs-regexp">/svn.edgewall.com/repos</span><span class="hljs-regexp">/trac/trunk</span> trac-trunk</code></pre><p>Step 6:
  Before adding to &#39;http.conf&#39; check for a file at: /etc/httpd/conf.d/trac.conf</p>
<p>In the end, though, Genshi 0.6 doesn&#39;t seem to be available for CentOS -- so, I didn&#39;t get this working (yet).</p>

    		</section>
    		<footer class="post-footer">
    			<div itemscope itemprop="author" itemtype="http://schema.org/Person" class="post-author">
	                	<img itemprop="image" src="http://www.gravatar.com/avatar/F0AF2953911805542C66FD43B2F8FC38?s=155" alt="Mixu" class="post-author-avatar">
					<div class="post-author-info">
		              	<span itemprop="name">Mixu</span>
		              	<p itemprop="description" class="post-author-bio">Node.js developer</p>
	              	</div>
    			</div>
    		</footer>
		</article>
		
		<section itemprop="comment" class="post-comments">
			<div id="disqus_thread"></div>
			<script type="text/javascript">            
				var disqus_shortname = 'example';
		
			    (function() {
			        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
			        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
			        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
			    })();
			</script>
			<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
			<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
		</section>	</section>

	<footer class="footer" role="contentinfo">
		<div class="social-links-line"></div>
		<section class="social-links">
	        <div class="social-links-inner">
	        	<a class="icon icon-feed" href="http://localhost:5000/rss/" target="_blank">
	        		<i class="fa fa-rss"></i>
	        	</a>
	        	
	        	<a class="icon icon-twitter" href="http://twitter.com/" target="_blank">				
	        		<i class="fa fa-twitter"></i>
	        	</a>
	        	
	        	<a class="icon icon-facebook" href="http://facebook.com/" target="_blank">
	        		<i class="fa fa-facebook"></i>
	        	</a>
	        	
	        	<a class="icon icon-google-plus" href="http://plus.google.com/" target="_blank">
	        		<i class="fa fa-google-plus"></i>
	        	</a>
	        	
	        	<a class="icon icon-dribbble" href="http://dribbble.com/" target="_blank">
	        		<i class="fa fa-dribbble"></i>
	        	</a>
	        	
	        	<a class="icon icon-flickr" href="http://flickr.com/" target="_blank">
	        		<i class="fa fa-flickr"></i>
	        	</a>
	        	
	        	<a class="icon icon-foursquare" href="http://foursquare.com/" target="_blank">
	        		<i class="fa fa-foursquare"></i>
	        	</a>
	        	
	        	<a class="icon icon-instagram" href="http://instagram.com/" target="_blank">
	        		<i class="fa fa-instagram"></i>
	        	</a>
	        	
	        	<a class="icon icon-github" href="http://github.com/" target="_blank">
	        		<i class="fa fa-github"></i>
	        	</a>
	        	
	        	<a class="icon icon-tumblr" href="http://tumblr.com/" target="_blank">
	        		<i class="fa fa-tumblr"></i>
	        	</a>
	        	
	        	<a class="icon icon-pinterest" href="http://pinterest.com/" target="_blank">
	        		<i class="fa fa-pinterest"></i>
	        	</a>
	        	
	        	<a class="icon icon-linkedin" href="http://linkedin.com/" target="_blank">
	        		<i class="fa fa-linkedin"></i>
	        	</a>
	        	
	        	<a class="icon icon-vk" href="http://vk.com/" target="_blank">
	        		<i class="fa fa-vk"></i>
	        	</a>        </div>               
	    </section>
	</footer></main>

	<script src="/assets/js/jquery.min.js"></script>
    <script type="text/javascript" src="/assets/js/main.min.js"></script>
</body>
</html>