<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<title>CakePHP gripes</title>	

	<meta name="description" content="">
	
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="CakePHP gripes">
    <meta name="twitter:description" content="">
    <meta name="twitter:site" content="@username">
	<meta name="twitter:creator" content="@username">

    <meta property="og:type" content="article">
    <meta property="og:title" content="CakePHP gripes">
    <meta property="og:description" content="">

    <link rel="stylesheet" href="/assets/css/style.css">

    <meta name="generator" content="Ghost ?" />
<link rel="alternate" type="application/rss+xml" title="Mixu&#39;s blog" href="/rss/">
<link rel="canonical" href="http://localhost:5000//2010/10/10/cakephp-gripes.md" />	
</head>
<body class="post-template">
	
<main id="container" role="main">
	<header class="header" role="banner" style="background-image: url(/assets/img/header.jpg);">
		<h1 class="blog-title">
			<a href="http://localhost:5000">Mixu&#x27;s blog</a>
		</h1>
		<div class="blog-description">A blog</div>
	</header>
	<nav class="menu" role="navigation">
		<a href="#">Home</a>
		<span class="delimiter">&#8226;</span>
		<a href="#">About</a>
		<span class="delimiter">&#8226;</span>
		<a href="#">Contacts</a>
	</nav>
	<section class="post-full">
		<article itemscope itemtype="http://schema.org/BlogPosting" role="article" class="post">
			<header class="post-header">        		
    			<h2 itemprop="name headline" class="post-title">
    				<a href="/2010/10/10/cakephp-gripes.html" itemprop="url">CakePHP gripes</a>
    			</h2>
    			<div class="post-meta">
        			<time datetime="2010-10-10" itemprop="datePublished">October 10, 2010</time>
        		</div>
        		<hr>
    		</header>
    		<section itemprop="articleBody" class="post-content">
    			<p>I&#39;ve used CakePHP for quite a while now, so here are the things I find most problematic about it:</p>
<p><strong><span style="text-decoration: underline;">Auth and ACL functionality</span></strong></p>
<p>Many superficial reviews point this out as a strength of CakePHP. It is definitely NOT a strong point, because the included ACL is too darn complex. In particular, the ACL functionality has multiple different modes: actions mode (e.g. read, write permissions), CRUD (e.g. create, read, update, delete permissions) mode  (both DB-based) and a file based mode.</p>
<p>These modes each require different types of database table setup in terms of how you will structure the permissions. Unfortunately, doing that is also rather complex because the ACL stores the rights using the <a href="http://debuggable.com/posts/cakephp-and-acl-why-is-it-so-difficult:480f4dd5-ae90-4ac6-a29a-4caccbdd56cb">MPTT</a> (Modified Preorder Tree Traversal) method. If you aren&#39;t using MPTT elsewhere, then that&#39;s another thing to figure out, and manually figuring out what is going on is quite painful. I also remember reading someone gripe about the number of queries it generates.</p>
<p>Furthermore, there is a large number of tables and keeping these in sync is left as an exercise to the implementer. In particular, while creating a new user will update the appropriate ARO table rows, subsequent updates the user or groups will need to have their ARO synchronization implemented manually since Cake&#39;s magic does not handle these parts.</p>
<p><strong><span style="text-decoration: underline;">Code generation</span></strong></p>
<p>It is easy to get started with generating models, views, controllers and tests, but code generation is a rather minor benefit in my opinion, since once you get past the first version of the program you will still end up writing more UI code and scrapping most of the generated code.</p>
<p>A minor annoyance is that the generated controllers and views separate the view and edit actions, which is in many cases not really necessary. You can often use the edit view for viewing data - which leads to less code to maintain (one view vs. two views). <a href="http://www.pseudocoder.com/archives/free-cakephp-e-book-super-awesome-advanced-cakephp-tips">Here is how you can do that (CakePHP tips booklet)</a>.</p>
<p><strong><span style="text-decoration: underline;">Scaffolding</span></strong></p>
<p>Scaffolding is nice in the first five minutes. However, in particular with models it tends to get in your way when you least expect it. In particular, the scaffolding for plugins is easy to trigger accidentally because CakePHP expects a particular naming scheme - and then you end up wondering why the models you just created don&#39;t seem to have any of the functions you added.</p>
<p>I&#39;ve ended up patching the core so that CakePHP dies if it tries to load a scaffolded model - and that has made these bugs easier to prevent. <a href="http://blog.mixu.net/2010/10/06/tip-disable-cakephp-model-auto-load-and-trace-the-load-paths/">Here is how I did it</a>.</p>
<p>Furthermore, the scaffolding gets things wrong in complex cases - for a simple example, an hasOne and a hasMany have identical table structures, so it isn&#39;t possible to correctly determine which one should be used. And then there are the HABTM join tables, which you might want to retrieve as separate entities (e.g. due to relation data in the join table) in addition to the actual tables.</p>
<p><strong><span style="text-decoration: underline;">ORM</span></strong></p>
<p>The most awesome part of CakePHP is the <a href="http://book.cakephp.org/view/474/Containable">Containable behavior</a>. The base ORM is a bit greedy, and reads all attached models - and setting the recursive param to a particular level is a very blunt tool for including/excluding attached data.</p>
<p>However, I really like the Containable behavior, which allows you to specify arbitrarily deep nesting paths. This is a huge time saver.</p>
<p>Of course, the ORM returns arrays rather than objects, which is a limitation, but one that I can live with - and PHP5 will be in the core sooner or later.</p>
<p><strong><span style="text-decoration: underline;">Helpers</span></strong></p>
<p>CakePHP&#39;s <a href="http://book.cakephp.org/view/204/Form-Element-Specific-Methods">Form helper</a> is a bit of a pain in the neck if you want to use your own markup rather than whatever CakePHP wants you to use. Some unwanted markup gets added automatically. The element creation functions differ slightly from each other, which means you need to look them up (e.g. form-&gt;radio vs. form-&gt;select) from the manual quite frequently. Kohana 3 <a href="http://kohanaframework.org/guide/api/Form">has a nicer API</a>.</p>
<p>The magic, while helpful for standard forms is problematic if you really need to build a custom form. It would be better if the base Form helper were simpler and there would be an extended version which would implement things like the surrounding markup rather than having these two in the same helper.</p>
<p>The Paginator helper is quite nice for implementing paginated views.</p>
<p><span style="text-decoration: underline;"><strong>Models</strong></span></p>
<p>CakePHP does provide <a href="http://book.cakephp.org/view/76/Callback-Methods">callbacks </a>such as afterSave for models, but at least for now these <a href="http://cakephp.lighthouseapp.com/projects/42648/tickets/95-afterfind-and-beforefind-callbacks-not-working-on-associated-models-was-translate-behavior-should-translate-associated-model-data">do not actually fire in all of the &quot;edge cases&quot; such as in associated models</a>. This means that one can&#39;t rely on those to actually work in all cases, which is a shame.</p>
<p><strong><span style="text-decoration: underline;">Is it worth it?</span></strong></p>
<p>All in all, these are the problems I&#39;ve run into using CakePHP. It&#39;s not a bad framework, there are just cases in which it is a bit too magical. I recommend keeping these things in mind when considering whether to use Cake - <span style="text-decoration: underline;">you might not run into any of these issues at all </span>for some types of applications, while others will.</p>

    		</section>
    		<footer class="post-footer">
    			<div itemscope itemprop="author" itemtype="http://schema.org/Person" class="post-author">
	                	<img itemprop="image" src="http://www.gravatar.com/avatar/F0AF2953911805542C66FD43B2F8FC38?s=155" alt="Mixu" class="post-author-avatar">
					<div class="post-author-info">
		              	<span itemprop="name">Mixu</span>
		              	<p itemprop="description" class="post-author-bio">Node.js developer</p>
	              	</div>
    			</div>
    		</footer>
		</article>
		
		<section itemprop="comment" class="post-comments">
			<div id="disqus_thread"></div>
			<script type="text/javascript">            
				var disqus_shortname = 'example';
		
			    (function() {
			        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
			        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
			        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
			    })();
			</script>
			<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
			<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
		</section>	</section>

	<footer class="footer" role="contentinfo">
		<div class="social-links-line"></div>
		<section class="social-links">
	        <div class="social-links-inner">
	        	<a class="icon icon-feed" href="http://localhost:5000/rss/" target="_blank">
	        		<i class="fa fa-rss"></i>
	        	</a>
	        	
	        	<a class="icon icon-twitter" href="http://twitter.com/" target="_blank">				
	        		<i class="fa fa-twitter"></i>
	        	</a>
	        	
	        	<a class="icon icon-facebook" href="http://facebook.com/" target="_blank">
	        		<i class="fa fa-facebook"></i>
	        	</a>
	        	
	        	<a class="icon icon-google-plus" href="http://plus.google.com/" target="_blank">
	        		<i class="fa fa-google-plus"></i>
	        	</a>
	        	
	        	<a class="icon icon-dribbble" href="http://dribbble.com/" target="_blank">
	        		<i class="fa fa-dribbble"></i>
	        	</a>
	        	
	        	<a class="icon icon-flickr" href="http://flickr.com/" target="_blank">
	        		<i class="fa fa-flickr"></i>
	        	</a>
	        	
	        	<a class="icon icon-foursquare" href="http://foursquare.com/" target="_blank">
	        		<i class="fa fa-foursquare"></i>
	        	</a>
	        	
	        	<a class="icon icon-instagram" href="http://instagram.com/" target="_blank">
	        		<i class="fa fa-instagram"></i>
	        	</a>
	        	
	        	<a class="icon icon-github" href="http://github.com/" target="_blank">
	        		<i class="fa fa-github"></i>
	        	</a>
	        	
	        	<a class="icon icon-tumblr" href="http://tumblr.com/" target="_blank">
	        		<i class="fa fa-tumblr"></i>
	        	</a>
	        	
	        	<a class="icon icon-pinterest" href="http://pinterest.com/" target="_blank">
	        		<i class="fa fa-pinterest"></i>
	        	</a>
	        	
	        	<a class="icon icon-linkedin" href="http://linkedin.com/" target="_blank">
	        		<i class="fa fa-linkedin"></i>
	        	</a>
	        	
	        	<a class="icon icon-vk" href="http://vk.com/" target="_blank">
	        		<i class="fa fa-vk"></i>
	        	</a>        </div>               
	    </section>
	</footer></main>

	<script src="/assets/js/jquery.min.js"></script>
    <script type="text/javascript" src="/assets/js/main.min.js"></script>
</body>
</html>