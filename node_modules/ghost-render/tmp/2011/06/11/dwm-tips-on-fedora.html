<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<title>dwm tips on Fedora</title>	

	<meta name="description" content="">
	
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="dwm tips on Fedora">
    <meta name="twitter:description" content="">
    <meta name="twitter:site" content="@username">
	<meta name="twitter:creator" content="@username">

    <meta property="og:type" content="article">
    <meta property="og:title" content="dwm tips on Fedora">
    <meta property="og:description" content="">

    <link rel="stylesheet" href="/assets/css/style.css">

    <meta name="generator" content="Ghost ?" />
<link rel="alternate" type="application/rss+xml" title="Mixu&#39;s blog" href="/rss/">
<link rel="canonical" href="http://localhost:5000//2011/06/11/dwm-tips-on-fedora.md" />	
</head>
<body class="post-template">
	
<main id="container" role="main">
	<header class="header" role="banner" style="background-image: url(/assets/img/header.jpg);">
		<h1 class="blog-title">
			<a href="http://localhost:5000">Mixu&#x27;s blog</a>
		</h1>
		<div class="blog-description">A blog</div>
	</header>
	<nav class="menu" role="navigation">
		<a href="#">Home</a>
		<span class="delimiter">&#8226;</span>
		<a href="#">About</a>
		<span class="delimiter">&#8226;</span>
		<a href="#">Contacts</a>
	</nav>
	<section class="post-full">
		<article itemscope itemtype="http://schema.org/BlogPosting" role="article" class="post">
			<header class="post-header">        		
    			<h2 itemprop="name headline" class="post-title">
    				<a href="/2011/06/11/dwm-tips-on-fedora.html" itemprop="url">dwm tips on Fedora</a>
    			</h2>
    			<div class="post-meta">
        			<time datetime="2011-06-11" itemprop="datePublished">June 11, 2011</time>
        		</div>
        		<hr>
    		</header>
    		<section itemprop="articleBody" class="post-content">
    			<p>I&#39;ve been testing out Fedora 15&#39;s Gnome 3 and Ubuntu&#39;s Unity, and didn&#39;t like either of them. They both take up too much precious screen space just to show a fancy UI, and requiring hardware acceleration is a pain for low end netbooks and virtual machines.</p>
<p>So I decided to move to an alternative window manager. DWM (dynamic window manager, <a href="http://dwm.suckless.org/">http://dwm.suckless.org/</a>) is an extremely lightweight tiling window manager written in C which saves screen space and works pretty well as long as you don&#39;t need to connect to wireless networks.</p>
<p>I&#39;ve been pretty happy with it. The main drawback is that connecting to wireless networks is a pain in the ass as there are no proper GUI tools to do this. Check out these tips to get started with dwm</p>
<h2>0. Installing dwm on Fedora, keyboard shortcuts</h2>
To install DWM, run yum install dwm. You can then choose to use dwm or Gnome or Kde in the login screen.

The default keyboard shortcuts are listed at man dwm or at <a href="http://man.suckless.org/dwm/1/dwm">http://man.suckless.org/dwm/1/dwm</a>.
<h2>1. Customizing dwm</h2>
Customizing dwm can be done by making changes to config.h and recompiling the window manager.

Fedora has a really nice package called dwm-user, which automates this process! Here is the package description:

<em>dwm-start is a helper script for running and reconfiguring dwm if neccessarry. It&#39;s the preferred way of starting dwm in Fedora.</em>
<em>Running  dwm-start starts Fedora build by default. If you wish to customize your configuration, put the dwm config header file to $HOME/.dwm/config.h and adjust it according to your needs. Every time the user configuration file has changed, dwm-start will rebuild the user dwm binary prior to its execution.</em>

All you need to do is:

<code>bash
sudo yum install dwm-user</code>


<code>bash
mkdir ~/.dwm</code>


<code>bash
cp /usr/src/dwm-user-5.8.2-6.fc14/config.def.h ~/.dwm/config.h</code>

E.g. install via yum, then make a ~/.dwm folder, then copy the config.h file and edit it. When you restart, you can choose dwm-user as your window manager which uses you custom version of dwm. For example, I remapped Meta (Cmd/Windows key) + h and meta + l to meta + pg up / pg down and meta + shift + q to meta + shift + end since I&#39;m currently running Fedora on an OSX host.

You will probably make changes to the keyboard shortcuts. To find the keymap:

<code>bash
sudo updatedb</code>


<code>bash
locate keysymdef.h</code>

Keysymdef.h lists the names of the keys in X11.
<h2>2. Tip: Guake is just as awesome on dwm</h2>
By default, dwm launches xterm. I prefer to use guake, since that allows me to get the tabbed terminal window on any workspace when I need them. Just launch guake&amp; to run it in the background.

<strong>UPDATE</strong>: I moved to F15 (deciding simply to ignore Gnome 3) and noticed that guake has problems starting. To fix those:

<code>bash
sudo yum install xfce4-notifyd</code>

Basically you need a notify daemon to allow Guake to print that pretty message &quot;Guake is running&quot;, and xfce4-notifyd provides an alternative notifications daemon.
<h2>3. Launch netbeans and other Java programs with font smoothing and GTK look and feel</h2>
You need to specify a couple of extra switches to get the GTK look and feel in Java programs, for example:

/home/username/netbeans-7.0/bin/netbeans -J-Dswing.aatext=true -J-Dawt.useSystemAAFontSettings=on --laf com.sun.java.swing.plaf.gtk.GTKLookAndFeel
<h2>4. Launch nautilus without the desktop</h2>

<pre class="hljs"><code><span class="hljs-title">nautilus</span> --<span class="hljs-built_in">no</span>-desktop</code></pre><h2>5. Use dwm with a dual screen setup</h2>
If dwm starts with mirroring output to your secondary screen, then you need to run xrandr to get the names your screens. E.g. VBOX0 and VBOX1.

Then configure the screen layout:

<code>bash
xrandr --output VBOX1 --auto --right-of VBOX0</code>

dwm will now let you have your own workspaces for each screen.
<h2>6. Change your desktop background</h2>
Use feh to change your desktop background:

<code>bash
feh --bg-tile /path/to/background/image</code>

<h2>7. xterm config</h2>
For a usable xterm, create the following ~/.Xresources and run

<code>bash
&lt;code&gt;xrdb -merge .Xresources&lt;/code&gt;</code>


<code>bash
xterm*faceName:           monospace:pixelsize=14
xterm*saveLines:          9999
xterm*scrollBar:          false
xterm*background:  #000000
xterm*foreground:  #dfdfdf
xterm*color0:      #000000
xterm*color1:      #9e1828
xterm*color2:      #aece92
xterm*color3:      #968a38
xterm*color4:      #414171
xterm*color5:      #963c59
xterm*color6:      #418179
xterm*color7:      #bebebe
xterm*color8:      #666666
xterm*color9:      #cf6171
xterm*color10:     #c5f779
xterm*color11:     #fff796
xterm*color12:     #4186be
xterm*color13:     #cf9ebe
xterm*color14:     #71bebe
xterm*color15:     #ffffff</code>

<h2>8. Add a clock using xsetroot</h2>
You can do something like this in a bash script to show the time in dwm on the top right corner.

<code>bash

&lt;pre&gt;while true; do
   xsetroot -name &quot;$( date +&quot;%F %R&quot; )&quot;
   sleep 1m    # Update time every minute
done</code>

<h2>9. Connect to wifi</h2>
This is rather painful. The instructions here were collected from the mailing list, and I did get them to work, but I&#39;m too lazy to write a full tutorial on this right now.

Basically, you need to scan, then do different things depending on whether the wifi uses WEP or WPA for authentication.

Start by running:

<code>bash
iwlist scan</code>

<h2>9.1 WEP wifi</h2>

<pre class="hljs"><code>&amp;<span class="hljs-keyword">gt</span>; &amp;<span class="hljs-keyword">gt</span>; <span class="hljs-comment">#wep connect to a wep wifi</span>
&amp;<span class="hljs-keyword">gt</span>; &amp;<span class="hljs-keyword">gt</span>; <span class="hljs-comment">#! /bin/sh</span>
&amp;<span class="hljs-keyword">gt</span>; &amp;<span class="hljs-keyword">gt</span>;
&amp;<span class="hljs-keyword">gt</span>; &amp;<span class="hljs-keyword">gt</span>; key=<span class="hljs-string">&quot;<code>grep &lt;span class=&quot;hljs-variable&quot;&gt;$1&lt;/span&gt; /home/pmarin/wep | cut -d&#39; &#39; -f2</code>&quot;</span>
&amp;<span class="hljs-keyword">gt</span>; &amp;<span class="hljs-keyword">gt</span>; sudo ifconfig wlan<span class="hljs-number">0</span> up
&amp;<span class="hljs-keyword">gt</span>; &amp;<span class="hljs-keyword">gt</span>; sudo iwconfig wlan<span class="hljs-number">0</span> essid <span class="hljs-variable">$1</span>
&amp;<span class="hljs-keyword">gt</span>; &amp;<span class="hljs-keyword">gt</span>; sudo iwconfig wlan<span class="hljs-number">0</span> key <span class="hljs-keyword">s</span>:<span class="hljs-variable">$key</span>
&amp;<span class="hljs-keyword">gt</span>; &amp;<span class="hljs-keyword">gt</span>; sudo dhclient wlan<span class="hljs-number">0</span>
&amp;<span class="hljs-keyword">gt</span>; &amp;<span class="hljs-keyword">gt</span>; <span class="hljs-comment">#end</span></code></pre><pre class="hljs"><code><span class="hljs-subst">&amp;</span><span class="hljs-literal">gt</span>; <span class="hljs-subst">&amp;</span><span class="hljs-literal">gt</span>; The wep is a plain file <span class="hljs-keyword">with</span> <span class="hljs-keyword">to</span> columms
<span class="hljs-subst">&amp;</span><span class="hljs-literal">gt</span>; <span class="hljs-subst">&amp;</span><span class="hljs-literal">gt</span>;
<span class="hljs-subst">&amp;</span><span class="hljs-literal">gt</span>; <span class="hljs-subst">&amp;</span><span class="hljs-literal">gt</span>; essid  key</code></pre><h2>9.2 WPA wifi</h2>

<pre class="hljs"><code>&amp;<span class="hljs-keyword">gt</span>; &amp;<span class="hljs-keyword">gt</span>;
&amp;<span class="hljs-keyword">gt</span>; &amp;<span class="hljs-keyword">gt</span>; <span class="hljs-comment">#wpa connect to a wpa wifi</span>
&amp;<span class="hljs-keyword">gt</span>; &amp;<span class="hljs-keyword">gt</span>; <span class="hljs-comment">#! /bin/sh</span>
&amp;<span class="hljs-keyword">gt</span>; &amp;<span class="hljs-keyword">gt</span>;
&amp;<span class="hljs-keyword">gt</span>; &amp;<span class="hljs-keyword">gt</span>; sudo ifconfig wlan<span class="hljs-number">0</span> up
&amp;<span class="hljs-keyword">gt</span>; &amp;<span class="hljs-keyword">gt</span>; sudo iwconfig wlan<span class="hljs-number">0</span> essid <span class="hljs-variable">$1</span>
&amp;<span class="hljs-keyword">gt</span>; &amp;<span class="hljs-keyword">gt</span>; sudo wpa_supplicant -iwlan<span class="hljs-number">0</span> -c/home/pmarin/wpa -B
&amp;<span class="hljs-keyword">gt</span>; &amp;<span class="hljs-keyword">gt</span>; sudo dhclient wlan<span class="hljs-number">0</span>
&amp;<span class="hljs-keyword">gt</span>; &amp;<span class="hljs-keyword">gt</span>; <span class="hljs-comment">#end</span>
&amp;<span class="hljs-keyword">gt</span>; &amp;<span class="hljs-keyword">gt</span>;
&amp;<span class="hljs-keyword">gt</span>; &amp;<span class="hljs-keyword">gt</span>; the wpa file is similar than /etc/wpa_supplicant.conf</code></pre><p>To create the wpa file:</p>
<p><code>wpa_passphrase your_ssid_of_network your_network_password</code></p>
<p>Create the file:</p>
<pre class="hljs"><code><span class="hljs-variable">ctrl_interface=</span>/var/run/wpa_supplicant
<span class="hljs-comment">#ap_scan=2</span>

<span class="hljs-variable">network=</span>{
       <span class="hljs-variable">ssid=</span><span class="hljs-string">&quot;your_ssid&quot;</span>
       <span class="hljs-variable">scan_ssid=</span><span class="hljs-number">1</span>
       <span class="hljs-variable">proto=</span>WPA RSN
       <span class="hljs-variable">key_mgmt=</span>WPA-PSK
       <span class="hljs-variable">pairwise=</span>CCMP TKIP
       <span class="hljs-variable">group=</span>CCMP TKIP
       <span class="hljs-variable">psk=</span>your_psk_from_wpa_passphrase
}

sudo wpa_supplicant -Bw -Dwext -i eth0 -c/etc/wpa_supplicant.conf</code></pre><p><h2>9.3 Wifi troubleshooting:</h2>
1) CHECK THAT YOU DON&#39;T have the NetworkManager service or wpa_supplicant running already!!!</p>
<p>You can run wpa_supplicant with -dd flag for a detailed debug output.1) If you don&#39;t manage to connect to the AccessPoint, try to uncomment line 2 in /etc/wpa_supplicant.conf.</p>
<p>2) If that doesn&#39;t help, try change its value to 0 or 1.</p>
<p>3) If you get troubles while authenticating, try removing &quot;RSN&quot; and/or&quot;CCMP&quot; strings from /etc/wpa_supplicant.conf.</p>
<p>Sources for Wifi stuff:</p>
<p><a href="http://ubuntuforums.org/showthread.php?t=263136">http://ubuntuforums.org/showthread.php?t=263136</a></p>
<p><a href="http://www.mail-archive.com/dwm@suckless.org/msg06800.html">http://www.mail-archive.com/dwm@suckless.org/msg06800.html</a></p>
<h2 id="comments">Comments</h2>
<p><strong><a href="#530" title="2011-06-14 12:01:14">vimarsh</a>:</strong> One tip for the wifi set-up: i found it easier to set up the initial config using nm-connection-editor and then start nm-applet in the dwm launcher script. It will autoconnect to your preferred wifi configuration. (Of course you need NetworkManager daemon running)</p>
<p>Sample launcher:</p>
<p>&quot;&quot;&quot;
#</p>
<h1 id="start-new-dwm-session">start new dwm session</h1>
<p>#</p>
<p>nm-applet --sm-disable&amp;
exec /usr/local/bin/dwm
&quot;&quot;&quot;</p>
<p><strong><a href="#531" title="2011-06-15 07:30:43">Mikito Takada</a>:</strong> Thanks for the tip!</p>
<p><strong><a href="#532" title="2011-07-11 06:40:02">Matt Freeman</a>:</strong> In my .xsession I have &#39;nm-applet &amp;&#39; (or perhaps you can spawn it from the dwm config), if this is setup correctly then it will auto connect to wifi network previous configured (i.e. the one you setup whilst in gnome). Alternatively if you have a tray program such as trayer or tint2 etc.. you can work with the network manager just as you would in Gnome.</p>
<p>Hardcore Arch users tell me that wicd is better alternative without zero gnome attachments though. - not verified</p>
<p><strong><a href="#533" title="2011-09-23 06:06:15">Mikito Takada</a>:</strong> Thank you, I gave wicd a try and it seems like a really nice solution for going Gnome-free...</p>
<p>sudo yum install wicd wicd-gtk wicd-curses
sudo service NetworkManager stop # Bad password errors if both are running...
sudo service wicd start
wicd-client -n</p>
<p><strong><a href="#534" title="2011-12-18 17:44:51">Anton</a>:</strong> Hi! Big thanks for tips!
Always wanted to try tiling managers and with releases of unity and gnome 3, the time to do it have come. now i am messing around lxde based fedora + dwm, and your article is really good point to start.</p>

    		</section>
    		<footer class="post-footer">
    			<div itemscope itemprop="author" itemtype="http://schema.org/Person" class="post-author">
	                	<img itemprop="image" src="http://www.gravatar.com/avatar/F0AF2953911805542C66FD43B2F8FC38?s=155" alt="Mixu" class="post-author-avatar">
					<div class="post-author-info">
		              	<span itemprop="name">Mixu</span>
		              	<p itemprop="description" class="post-author-bio">Node.js developer</p>
	              	</div>
    			</div>
    		</footer>
		</article>
		
		<section itemprop="comment" class="post-comments">
			<div id="disqus_thread"></div>
			<script type="text/javascript">            
				var disqus_shortname = 'example';
		
			    (function() {
			        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
			        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
			        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
			    })();
			</script>
			<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
			<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
		</section>	</section>

	<footer class="footer" role="contentinfo">
		<div class="social-links-line"></div>
		<section class="social-links">
	        <div class="social-links-inner">
	        	<a class="icon icon-feed" href="http://localhost:5000/rss/" target="_blank">
	        		<i class="fa fa-rss"></i>
	        	</a>
	        	
	        	<a class="icon icon-twitter" href="http://twitter.com/" target="_blank">				
	        		<i class="fa fa-twitter"></i>
	        	</a>
	        	
	        	<a class="icon icon-facebook" href="http://facebook.com/" target="_blank">
	        		<i class="fa fa-facebook"></i>
	        	</a>
	        	
	        	<a class="icon icon-google-plus" href="http://plus.google.com/" target="_blank">
	        		<i class="fa fa-google-plus"></i>
	        	</a>
	        	
	        	<a class="icon icon-dribbble" href="http://dribbble.com/" target="_blank">
	        		<i class="fa fa-dribbble"></i>
	        	</a>
	        	
	        	<a class="icon icon-flickr" href="http://flickr.com/" target="_blank">
	        		<i class="fa fa-flickr"></i>
	        	</a>
	        	
	        	<a class="icon icon-foursquare" href="http://foursquare.com/" target="_blank">
	        		<i class="fa fa-foursquare"></i>
	        	</a>
	        	
	        	<a class="icon icon-instagram" href="http://instagram.com/" target="_blank">
	        		<i class="fa fa-instagram"></i>
	        	</a>
	        	
	        	<a class="icon icon-github" href="http://github.com/" target="_blank">
	        		<i class="fa fa-github"></i>
	        	</a>
	        	
	        	<a class="icon icon-tumblr" href="http://tumblr.com/" target="_blank">
	        		<i class="fa fa-tumblr"></i>
	        	</a>
	        	
	        	<a class="icon icon-pinterest" href="http://pinterest.com/" target="_blank">
	        		<i class="fa fa-pinterest"></i>
	        	</a>
	        	
	        	<a class="icon icon-linkedin" href="http://linkedin.com/" target="_blank">
	        		<i class="fa fa-linkedin"></i>
	        	</a>
	        	
	        	<a class="icon icon-vk" href="http://vk.com/" target="_blank">
	        		<i class="fa fa-vk"></i>
	        	</a>        </div>               
	    </section>
	</footer></main>

	<script src="/assets/js/jquery.min.js"></script>
    <script type="text/javascript" src="/assets/js/main.min.js"></script>
</body>
</html>