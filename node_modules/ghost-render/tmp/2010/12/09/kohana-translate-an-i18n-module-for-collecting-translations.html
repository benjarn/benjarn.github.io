<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<title>Kohana-translate - an i18n module for collecting translations</title>	

	<meta name="description" content="">
	
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Kohana-translate - an i18n module for collecting translations">
    <meta name="twitter:description" content="">
    <meta name="twitter:site" content="@username">
	<meta name="twitter:creator" content="@username">

    <meta property="og:type" content="article">
    <meta property="og:title" content="Kohana-translate - an i18n module for collecting translations">
    <meta property="og:description" content="">

    <link rel="stylesheet" href="/assets/css/style.css">

    <meta name="generator" content="Ghost ?" />
<link rel="alternate" type="application/rss+xml" title="Mixu&#39;s blog" href="/rss/">
<link rel="canonical" href="http://localhost:5000//2010/12/09/kohana-translate-an-i18n-module-for-collecting-translations.md" />	
</head>
<body class="post-template">
	
<main id="container" role="main">
	<header class="header" role="banner" style="background-image: url(/assets/img/header.jpg);">
		<h1 class="blog-title">
			<a href="http://localhost:5000">Mixu&#x27;s blog</a>
		</h1>
		<div class="blog-description">A blog</div>
	</header>
	<nav class="menu" role="navigation">
		<a href="#">Home</a>
		<span class="delimiter">&#8226;</span>
		<a href="#">About</a>
		<span class="delimiter">&#8226;</span>
		<a href="#">Contacts</a>
	</nav>
	<section class="post-full">
		<article itemscope itemtype="http://schema.org/BlogPosting" role="article" class="post">
			<header class="post-header">        		
    			<h2 itemprop="name headline" class="post-title">
    				<a href="/2010/12/09/kohana-translate-an-i18n-module-for-collecting-translations.html" itemprop="url">Kohana-translate - an i18n module for collecting translations</a>
    			</h2>
    			<div class="post-meta">
        			<time datetime="2010-12-09" itemprop="datePublished">December 09, 2010</time>
        		</div>
        		<hr>
    		</header>
    		<section itemprop="articleBody" class="post-content">
    			<p>Previously, I did a <a href="http://blog.mixu.net/2010/11/11/kohana-3-i18n-tutorial/">tutorial on Kohana 3 internationalization</a>, and promised that I would create a better tool for collecting translations. Here it is:</p>
<p><a href="http://blog.mixu.net/files/2010/12/kohana-translate.png"><img title="kohana-translate" src="http://blog.mixu.net/files/2010/12/kohana-translate-300x165.png" alt="" width="300" height="165" /></a></p>
<p><a href="https://bitbucket.org/mixu/kohana-translate/src/b5be4b213332/modules/translate/">Kohana-translate</a> is a module for collecting translations. For a how-to on Kohana 3 internationalization, <a href="http://blog.mixu.net/2010/11/11/kohana-3-i18n-tutorial/">read my tutorial on i18n here</a>. The module was originally based on <a href="http://github.com/hinton/langify">Langify </a>(by hinton), but:</p>
<ul>
    <li>that module used the deprecated Sprig ORM,</li>
    <li>had a different idea of what the translation files should contain (e.g. key lookups rather than string lookups),</li>
    <li>did not include user management</li>
    <li>nor did it support locking translations (meaning that two translators working at the same time would overwrite each other&#39;s texts)</li>
    <li>nor did it deal with a number of niceties, such as:
<ul>
    <li>ability to update the translation later from a file,</li>
    <li>ability to specify which languages to translate to via UI,</li>
    <li>ability to upload translation files via UI,</li>
    <li>having a fancy-pants progress bar to motivate translators,</li>
</ul>
</li>
    <li>and edge cases (multiline string linefeed conversion, UTF8).</li>
</ul>
So I ended up rewriting all of the code, and am releasing it as Kohana-translate.

Get it from Bitbucket: <a href="http://bitbucket.org/mixu/kohana-translate">http://bitbucket.org/mixu/kohana-translate</a> (hg clone ssh://hg@bitbucket.org/mixu/kohana-translate).
<h2>Getting started</h2>
<div id="_mcePaste">This is a complete app with all dependencies. It  consists of two custom modules - most of the code is under /modules/translate/:</div>
<div id="_mcePaste">
<ul>
    <li>user: For user administration, see my <a href="http://blog.mixu.net/2010/09/14/kohana-3-auth-sample-implementation-and-documentation/">auth tutorial</a>.</li>
    <li>translate: For the translation itself.</li>
</ul>
</div>
<div id="_mcePaste">Just import backup.sql, fix the database connection settings and you should be set. You will probably also need to create ./application/cache for the cache.</div>
To install into an existing application:
<ul>
    <li>Place the module into your module folder + copy the helpers.</li>
    <li>Add the &quot;translate&quot; and &quot;user&quot; modules to your bootstrap.php file. Note: the &quot;user&quot; module should be required before &quot;auth&quot;.</li>
    <li>Import the backup.sql file into your database.</li>
</ul>

<h2 id="comments">Comments</h2>
<p><strong><a href="#279" title="2011-06-10 19:52:58">Faiyet</a>:</strong> Hi, I have built a kohana 3 site on my local machine and I am implementing your kohana-translate plugin. I already added the user and translate folders to my modules folder, hooked them up in bootstrap and configured my database with the necessary information.</p>
<p>At the moment all of the string data is &quot;hardcoded&quot;. Do I have to simply call the __(&quot;string&quot;) wherever I have a string?
Do I need to create the language files in the form XX-XX.php under the i18n folder?</p>
<p>Thanks you.</p>
<p><strong><a href="#280" title="2011-06-11 23:20:53">Mikito Takada</a>:</strong> Hi Faiyet,</p>
<p>For an overview of how Kohana 3 supports translation, look at <a href="http://blog.mixu.net/2010/11/11/kohana-3-i18n-tutorial/">http://blog.mixu.net/2010/11/11/kohana-3-i18n-tutorial/</a></p>
<p>To create the language files I suggest you patch the Kohana i18n to automatically collect the strings for translation:</p>
<p><a href="http://blog.mixu.net/2010/06/02/kohana3-automatically-collect-internationalization-strings/">http://blog.mixu.net/2010/06/02/kohana3-automatically-collect-internationalization-strings/</a></p>
<p>There might be some updates that are needed if you are using Kohana 3.1 as the code is for Ko3, but there haven&#39;t been many big changes...</p>
<p><strong><a href="#282" title="2012-03-13 07:42:56">Sven Walter</a>:</strong> Hey, i am using kohana 3.2 and i patched my i18n class... but there are no language strings collected. the write and get methods are called but it seems that there will be no data collected. i am going crazy^^</p>
<p>could you take a look at ko3.2 and youre translation scripts? thx</p>

    		</section>
    		<footer class="post-footer">
    			<div itemscope itemprop="author" itemtype="http://schema.org/Person" class="post-author">
	                	<img itemprop="image" src="http://www.gravatar.com/avatar/F0AF2953911805542C66FD43B2F8FC38?s=155" alt="Mixu" class="post-author-avatar">
					<div class="post-author-info">
		              	<span itemprop="name">Mixu</span>
		              	<p itemprop="description" class="post-author-bio">Node.js developer</p>
	              	</div>
    			</div>
    		</footer>
		</article>
		
		<section itemprop="comment" class="post-comments">
			<div id="disqus_thread"></div>
			<script type="text/javascript">            
				var disqus_shortname = 'example';
		
			    (function() {
			        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
			        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
			        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
			    })();
			</script>
			<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
			<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
		</section>	</section>

	<footer class="footer" role="contentinfo">
		<div class="social-links-line"></div>
		<section class="social-links">
	        <div class="social-links-inner">
	        	<a class="icon icon-feed" href="http://localhost:5000/rss/" target="_blank">
	        		<i class="fa fa-rss"></i>
	        	</a>
	        	
	        	<a class="icon icon-twitter" href="http://twitter.com/" target="_blank">				
	        		<i class="fa fa-twitter"></i>
	        	</a>
	        	
	        	<a class="icon icon-facebook" href="http://facebook.com/" target="_blank">
	        		<i class="fa fa-facebook"></i>
	        	</a>
	        	
	        	<a class="icon icon-google-plus" href="http://plus.google.com/" target="_blank">
	        		<i class="fa fa-google-plus"></i>
	        	</a>
	        	
	        	<a class="icon icon-dribbble" href="http://dribbble.com/" target="_blank">
	        		<i class="fa fa-dribbble"></i>
	        	</a>
	        	
	        	<a class="icon icon-flickr" href="http://flickr.com/" target="_blank">
	        		<i class="fa fa-flickr"></i>
	        	</a>
	        	
	        	<a class="icon icon-foursquare" href="http://foursquare.com/" target="_blank">
	        		<i class="fa fa-foursquare"></i>
	        	</a>
	        	
	        	<a class="icon icon-instagram" href="http://instagram.com/" target="_blank">
	        		<i class="fa fa-instagram"></i>
	        	</a>
	        	
	        	<a class="icon icon-github" href="http://github.com/" target="_blank">
	        		<i class="fa fa-github"></i>
	        	</a>
	        	
	        	<a class="icon icon-tumblr" href="http://tumblr.com/" target="_blank">
	        		<i class="fa fa-tumblr"></i>
	        	</a>
	        	
	        	<a class="icon icon-pinterest" href="http://pinterest.com/" target="_blank">
	        		<i class="fa fa-pinterest"></i>
	        	</a>
	        	
	        	<a class="icon icon-linkedin" href="http://linkedin.com/" target="_blank">
	        		<i class="fa fa-linkedin"></i>
	        	</a>
	        	
	        	<a class="icon icon-vk" href="http://vk.com/" target="_blank">
	        		<i class="fa fa-vk"></i>
	        	</a>        </div>               
	    </section>
	</footer></main>

	<script src="/assets/js/jquery.min.js"></script>
    <script type="text/javascript" src="/assets/js/main.min.js"></script>
</body>
</html>